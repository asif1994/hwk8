<!DOCTYPE html>
<head>
<title> Memory Game </title>
<link rel="stylesheet" href="hwk9.css"></link>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script>
var click=0;
var first_id ="";
var second_id ="";
var disp = 0;
var tries = 0;
$(document).ready(function(){
	$(".hiding").hide();
	$("button").click(function(){
			if (click==0){
				first = this;
				$(first).find("input").fadeIn(1000);
				click += 1;
				tries += 1;
				first_id = first.id;

				setTimeout(function(){
					if (matching(first_id,second_id)) {
						click = 0;
						disp += 2;
						if (disp==16){
							window.alert("Number of tries " + tries);
						}
						document.getElementById(second_id).disabled = true;
						document.getElementById(first_id).disabled = true;
						first_id = "";
						second_id = "";
					} else {
						if (second_id.length == 0) {
							$(first).find("input").fadeOut();
							click = 0;
						}
						else {
							$(first).find("input").fadeOut();
							$(second).find("input").fadeOut();
							click = 0;
						}
					}
				}, 3000);
			}  else if (click==1){
				second = this;
				$(this).find("input").fadeIn(1000);
				click += 1;
				tries += 1;
				second_id = this.id;
			}
	});

});

function matching(a, b){
	if (b.length == 0){
		return false;
		first_id ="";
		second_id ="";
	} else{ 
		var first = "b"+a[1]+a[2];
		var second = "b"+b[1]+b[2];
		if (document.getElementById(first).value == document.getElementById(second).value){
			return true;
			first_id ="";
			second_id ="";
		}
		else {
			return false;
			first_id ="";
			second_id ="";
		}
	}
}
</script>
</head>

<body onload="assign_num()">
<script src="hwk9.js"></script>
<center>
<h1> Welcome to Game of 15 </h1>
<table width="400px" height="400px">
<tbody>
  <tr align="center" width="100px" height="100px">
	<td width="100px" height="100px">
		<button id="c00" ><input class="hiding" id="b00" type="button" value=""></input></button>
	</td>
	<td width="100px" height="100px">
		<button id="c01"><input class="hiding" id="b01" type="button" value=""></input></button>
	</td>
	<td width="100px" height="100px">
		<button id="c02"><input class="hiding" id="b02" type="button" value=""></input></button>
	</td>
	<td width="100px" height="100px"> 
		<button id="c03"><input class="hiding" id="b03" type="button" value=""></input></button>
	</td>
  </tr>
  <tr align="center" width="100px" height="100px">
	<td width="100px" height="100px">
		<button id="c10"><input class="hiding" id="b10" type="button" value=""></input></button>
	</td>
	<td width="100px" height="100px">
		<button id="c11"><input class="hiding" id="b11" type="button" value=""></input></button>
	</td>
	<td width="100px" height="100px">
		<button id="c12"><input class="hiding" id="b12" type="button" value=""></input></button>
	</td>
	<td width="100px" height="100px"> 
		<button id="c13"><input class="hiding" id="b13" type="button" value=""></input></button>
	</td>
  </tr>
  <tr align="center" width="100px" height="100px">
	<td width="100px" height="100px">
		<button id="c20"><input class="hiding" id="b20" type="button" value=""></input></button>
	</td>
	<td width="100px" height="100px">
		<button id="c21"><input class="hiding" id="b21" type="button" value=""></input></button>
	</td>
	<td width="100px" height="100px">
		<button id="c22"><input class="hiding" id="b22" type="button" value=""></input></button>
	</td>
	<td width="100px" height="100px"> 
		<button id="c23"><input class="hiding" id="b23" type="button" value=""></input></button>
	</td>
  </tr>
    <tr align="center" width="100px" height="100px">
	<td width="100px" height="100px">
		<button id="c30"><input class="hiding" id="b30" type="button" value=""></input></button>
	</td>
	<td width="100px" height="100px">
		<button id="c31"><input class="hiding" id="b31" type="button" value=""></input></button>
	</td>
	<td width="100px" height="100px">
		<button id="c32"><input class="hiding" id="b32" type="button" value=""></input></button>
	</td>
	<td width="100px" height="100px"> 
		<button id="c33"><input class="hiding" id="b33" type="button" value=""></input></button>
	</td>
  </tr>
</tbody>
</table>
</center>
</body>