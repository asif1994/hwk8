<html>
<head>
<title> REGISTRATION </title>
<script type = "text/javascript">
function callServer(){
    var xhr = new XMLHttpRequest();

    // Create the user name
    var usr = document.getElementById("user").value;
    
    // Build the URL to connect to 
    var url = "./hwk14.php"; 

    // Create the name-value pairs that will be sent as data 
    var params = "user="+usr;

    // Open a connection to the server 
    xhr.open ("POST", url, true); 

    xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    
     xhr.onreadystatechange = function() {       
        if(xhr.readyState == 4 && xhr.status == 200) {
           var return_data = xhr.responseText;
           if (return_data != " "){
              alert("User name has been taken");
	   }
        }
     }

    // Send the request 
    xhr.send(params);

  }

</script>
</head>

<body>
<center>
<h1> Welcome to Registration </h1>
<form method="POST" action="./hwk14.php">
<table>
<tr>
<td> User Name: </td>
<td> <input type="text" id="user" name="user" value="" onblur="callServer();" /> </td>
</tr>
<tr>
<td> Password: </td>
<td> <input type="password" id="password" name="password" value="" /> </td>
</tr>
<tr>
<td> <input type="submit" name="submit" value="registration" /> </td>
<td> <input type = "reset" value = "Reset" /> </td> 
</tr>
</table>
</form>
</center>
</body>

</html>
